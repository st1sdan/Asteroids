[gd_scene load_steps=13 format=3 uid="uid://dgiod448q2qje"]

[ext_resource type="Script" path="res://Scripts/player.gd" id="1_x4ckh"]
[ext_resource type="Shader" path="res://Shaders/player.gdshader" id="2_f7iqh"]
[ext_resource type="Script" path="res://Scripts/engine_particles.gd" id="3_37p6l"]
[ext_resource type="Shader" path="res://Shaders/engine.gdshader" id="3_war4n"]
[ext_resource type="Texture2D" uid="uid://degfrs0a6b4u6" path="res://Assets/Light_texture.webp" id="5_g5fvh"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_16pmm"]
shader = ExtResource("2_f7iqh")

[sub_resource type="PrismMesh" id="PrismMesh_utodh"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_xjei4"]
shader = ExtResource("3_war4n")

[sub_resource type="Gradient" id="Gradient_eqrnn"]
colors = PackedColorArray(1, 0.916667, 0, 1, 1, 0.433333, 0, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_sticg"]
gradient = SubResource("Gradient_eqrnn")
width = 3

[sub_resource type="Curve" id="Curve_hjk76"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(0.79235, 0.615385), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_06lpi"]
polygon = PackedVector2Array(221, 161, 221, 164, 222, 164, 222, 167, 223, 167, 223, 169, 224, 169, 224, 171, 225, 171, 225, 172, 226, 172, 227, 172, 227, 171, 228, 171, 228, 169, 229, 169, 229, 167, 230, 167, 230, 164, 231, 164, 231, 161)

[node name="Player" type="CharacterBody2D"]
script = ExtResource("1_x4ckh")
bullet_speed = 300

[node name="MeshInstance2D" type="MeshInstance2D" parent="."]
material = SubResource("ShaderMaterial_16pmm")
position = Vector2(0, -0.29175)
scale = Vector2(10, 11.4165)
mesh = SubResource("PrismMesh_utodh")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="."]
position = Vector2(-0.0395832, -0.0395832)
scale = Vector2(1.02083, 1.02083)
build_mode = 1
polygon = PackedVector2Array(0.0387754, 4.93674, 4.93674, -5.83878, -4.85918, -5.83878)

[node name="Marker2D" type="Marker2D" parent="."]
position = Vector2(0, 9)
gizmo_extents = 3.0

[node name="CPUParticles2D" type="CPUParticles2D" parent="."]
material = SubResource("ShaderMaterial_xjei4")
position = Vector2(0, -6)
amount = 100
lifetime = 0.2
explosiveness = 0.1
fixed_fps = 25
texture = SubResource("GradientTexture1D_sticg")
emission_shape = 3
emission_rect_extents = Vector2(1.5, 0.3)
direction = Vector2(0, -1)
gravity = Vector2(0, 0)
initial_velocity_max = 55.0
scale_amount_curve = SubResource("Curve_hjk76")
script = ExtResource("3_37p6l")

[node name="LightOccluder2D" type="LightOccluder2D" parent="."]
position = Vector2(-226, -168)
occluder = SubResource("OccluderPolygon2D_06lpi")

[node name="PointLight2D" type="PointLight2D" parent="."]
position = Vector2(0, -9)
color = Color(0.776471, 0.768627, 0, 1)
shadow_enabled = true
texture = ExtResource("5_g5fvh")
texture_scale = 0.05
